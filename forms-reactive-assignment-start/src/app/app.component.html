<div class="container">
  <h3>Formulaire exercice</h3>
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
      <form
        (ngSubmit)="registerReactiveForm()"
        (ngReset)="resetReactiveForm()"
        [formGroup]="userReactiveForm"
      >
        <div id="user-data">
          <div class="form-group">
            <label for="username">Username</label>
            <input
              type="text"
              id="username"
              class="form-control"
              formControlName="userName"
            />
            <div
              class="error-message"
              *ngIf="
                (userNameCtrl.dirty || userNameCtrl.touched) &&
                userNameCtrl.hasError('required')
              "
            >
              Username is required.
            </div>
            <div
              class="error-message"
              *ngIf="
                (userNameCtrl.dirty || userNameCtrl.touched) &&
                userNameCtrl.hasError('minlength')
              "
            >
              Username should be at least 3 characters.
            </div>
          </div>

          <div class="form-group" formGroupName="passwordForm">
            <label for="password">Password</label>
            <input
              type="password"
              id="password"
              class="form-control"
              formControlName="password"
            />
            <div
              class="error-message"
              *ngIf="
                (passwordCtrl.dirty || passwordCtrl.touched) &&
                passwordCtrl.hasError('required')
              "
            >
              Password is required.
            </div>
          </div>

          <div class="form-group" formGroupName="passwordForm">
            <label for="password-confirmation">Password confirmation</label>
            <input
              type="password"
              id="password-confirmation"
              class="form-control"
              formControlName="confirmPassword"
            />
            <div
              class="error-message"
              *ngIf="
                (confirmPasswordCtrl.dirty || confirmPasswordCtrl.touched) &&
                confirmPasswordCtrl.hasError('required')
              "
            >
              Password confirmation is required.
            </div>
            <div
              class="error-message"
              *ngIf="
                passwordCtrl.dirty &&
                confirmPasswordCtrl.dirty &&
                passwordForm.hasError('isNotConfirmed')
              "
            >
              Passwords must match.
            </div>
          </div>

          <div class="form-group">
            <label for="birthDate">Birth date</label>
            <input
              type="date"
              id="birthDate"
              class="form-control"
              formControlName="birthDate"
            />
            <div
              class="error-message"
              *ngIf="
                (birthDateCtrl.dirty || birthDateCtrl.touched) &&
                birthDateCtrl.hasError('required')
              "
            >
              Birth date is required.
            </div>
          </div>
        </div>
        <button
          class="btn btn-primary"
          type="submit"
          [disabled]="userReactiveForm.invalid"
        >
          Submit
        </button>
        <button class="btn btn-primary" type="reset">Reinitialiser</button>
      </form>
    </div>
  </div>
</div>
